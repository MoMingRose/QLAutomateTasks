#### 附赠一个花了几天自写的自动添加、更新、追加JD_COOKIE的软件 [去下载](https://github.com/MoMingRose/QLAutomateTasks/releases)

> [!TIP]
> 下方是作者使用的环境
>
> 青龙面板版本：`2.17.2`（whyour/qinglong:debian）
>
> 开发环境Python版本: `3.10`

### 数据储存策略

> 主要用来`加载`和`存储`自动任务执行`所需`和`生成`的重要数据（如：账号密码登录后生成的cookie、各类自动任务完成的时间等）
> 
> > 后面有心思的时候再添加数据库相关储存策略（主要是最近刚好数据备份的时候接触到了webdav）
> 
> 支持多策略储存
> 
> `config.py`中可以针对单个任务设置储存策略（优先级更高，但不推荐，因为后续更新会覆盖）
> 
> **更多内容参考[.env.example](.env.example)**

#### 目前支持的策略如下：

- local
- webdav（正好本地搭建了AList，故写了这个小功能）

### 青龙面板拉库命令：

```shell
ql repo https://github.com/MoMingRose/QLAutomateTasks.git "一键" "" "*" "" "py|txt|example"
```

### 所需环境依赖如下:

已添加自动安装依赖脚本，运行“`一键任务执行.py`”脚本前，请先执行`一键依赖安装.py`脚本
> [!TIP]
> 如果是Docker拉取的青龙容器，建议拉取debian版本的，因为alpine不能安装ddddocr库（亲测）
> > 1. [ddddocr库](https://github.com/sml2h3/ddddocr)，我主要用来进行天翼云盘的滑块验证码识别，如果不介意天翼云盘用不了，可以选择不安装ddddocr依赖
> > 2. 当然，正常情况下是不会跳出来验证码，自然就用不到ddddocr库

### 此项目支持的签到任务状态如下

🟢: 正常运行 🔴: 暂不可用

⚪: 暂未添加 ⭕: 已经移除

🟡: 可正常运行，但有问题待验证

| 状态 | 任务名称                                  | 检查日期       | 备注                                                                                                                                                 |
|----|---------------------------------------|------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| 🟢 | 葫芦侠三楼                                 | 2024.03.18 |                                                                                                                                                    |
| 🟢 | 芥末空间                                  | 2024.03.18 |                                                                                                                                                    |
| 🟢 | [阿里云盘](https://www.alipan.com/)       | 2024.03.18 |                                                                                                                                                    |
| 🟢 | [天翼云盘](https://cloud.189.cn/)         | 2024.03.18 |                                                                                                                                                    |
| 🟢 | [MT论坛](https://bbs.binmt.cc/)         | 2024.03.18 |                                                                                                                                                    |
| 🟢 | [MIUI历史版本(刷机包)](https://miuiver.com/) | 2024.03.18 |                                                                                                                                                    |
| 🔴 | [V2Free](https://v2free.net/)         | 2024.03.18 | <font style="color:red">已更换验证方式，目前暂不可用</font><br/><s>需要进行google的人机验证<br>愿意的话可以前往[【yescaptcha邀请链接】](https://yescaptcha.com/i/jFtvBe)获取ClientKey</s> |
| 🟢 | [V2EX](https://www.v2ex.com/)         | 2024.03.18 | 经过3天运行，签到任务正常运行<s><br/>今天测试时发现“没有签到，却显示已签到，且主页没有签到入口”的情况。貌似有检测活跃度，从而决定是否显示签到入口的逻辑，如果有，后续可能会关闭此任务的运行</s>                                            |

### 各个签到任务详情

> [!TIP]
> <b>`支持自行更改`指定任务的`分隔符`。[自定义分隔符教程](docs/cust_split.md#1-自定义单多账号分隔符)
>
> 也可以根据报错提示添加环境变量

| 任务名称                                  | 多账号 | 默认环境变量             | 使用方式                         | 多账号分隔符   | 功能                           |
|---------------------------------------|-----|--------------------|------------------------------|----------|------------------------------|
| 葫芦侠三楼                                 | ✅   | `hlx_userinfo`     | 账号`&`密码                      | `\| `    | 全板块签到，领取经验                   |
| 芥末空间                                  | ✅   | `jmkj_userinfo`    | 账号`&`密码                      | `\| `    | 1. 全板块签到，获取经验<br>2.主页签到，领取芥末 |
| [阿里云盘](https://www.alipan.com/)       | ✅   | `alyp_userinfo`    | 昵称`&`[token](docs/aliyun.md) | `\| `    | 每日签到，领取免费会员和空间               |
| [天翼云盘](https://cloud.189.cn/)         | ✅   | `tyyp_userinfo`    | 账号`&`密码                      | `\| `    | 每日签到，领取空间                    |
| [MT论坛](https://bbs.binmt.cc/)         | ✅   | `mt_userinfo`      | 账号`&`密码                      | `\| `    | 每日签到，领取金币                    |
| [MIUI历史版本(刷机包)](https://miuiver.com/) | ✅   | `miuiver_userinfo` | 账号`&`密码                      | `\| `    | 每日签到，领取固定1积分                 |
| [V2Free](https://v2free.net/)         | ✅   | `v2free_userinfo`  | 账号`&`密码                      | `\| `    | 每日签到，领流量                     |
| [V2EX](https://www.v2ex.com/)         | ✅   | `v2ex_userinfo`    | 昵称`&`cookie                  | `\|\|  ` | 每日签到领铜币                      |

### 阿里云盘 refresh_token 获取方式

[去查看](docs/aliyun.md)
